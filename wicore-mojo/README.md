# WiCore Mojo æ¨ç†å¼•æ“

ğŸš€ **åŸºäº Mojo è¯­è¨€çš„è‡ªä¸»å¯æ§é«˜æ€§èƒ½ AI æ¨ç†å¼•æ“**

WiCore æ˜¯ä¸“ä¸ºä¸­å›½ç®—åŠ›å—é™ç¯å¢ƒè®¾è®¡çš„å¼‚æ„ç¡¬ä»¶ç»Ÿä¸€è°ƒåº¦æ¨ç†å¹³å°ï¼Œé›†æˆäº† HMT åˆ†å±‚å†…å­˜ç®¡ç†å’Œ MoR åŠ¨æ€è·¯ç”±æŠ€æœ¯ï¼Œæ”¯æŒåƒäº¿å‚æ•°æ¨¡å‹çš„é«˜æ•ˆæ¨ç†ã€‚

## ğŸ¯ æ ¸å¿ƒç‰¹æ€§

### æŠ€æœ¯ä¼˜åŠ¿
- **ğŸ”’ è‡ªä¸»å¯æ§**: æ‘†è„± NVIDIA TensorRT ä¾èµ–ï¼Œé¿å…æŠ€æœ¯å°é”é£é™©
- **ğŸŒ ç¡¬ä»¶æ— å…³**: æ”¯æŒæ‰€æœ‰ GPU å“ç‰Œï¼ˆNVIDIAã€AMDã€Intelã€å›½äº§ç­‰ï¼‰
- **âš¡ æè‡´æ€§èƒ½**: Mojo 68,000x Python æ€§èƒ½ï¼ŒåŸç”Ÿç¡¬ä»¶ç¼–è¯‘ä¼˜åŒ–
- **ğŸ§  æ™ºèƒ½è°ƒåº¦**: HMT ä¸‰çº§å­˜å‚¨ + AÂ²CR ç¼“å­˜ç®—æ³• + MoR åŠ¨æ€è·¯ç”±
- **ğŸ”Œ ç”Ÿæ€å…¼å®¹**: 100% Python å…¼å®¹ï¼ŒOpenAI API æ ‡å‡†æ¥å£

### ç›®æ ‡æ€§èƒ½ (T10 åŒå¡)
- **ååé‡**: 100-150 tokens/s
- **å»¶è¿Ÿ**: 50-100ms (é¦– token)
- **å¹¶å‘**: 16-32 å¹¶å‘è¯·æ±‚
- **å†…å­˜åˆ©ç”¨ç‡**: >85%

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           WiCore Mojo Engine            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Web API Layer (FastAPI/Mojo)          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Request Orchestrator (Mojo)           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Compute Scheduler (MAX Engine)        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚ â”‚Compute  â”‚ â”‚Compute  â”‚ â”‚Compute  â”‚     â”‚
â”‚ â”‚Node 1   â”‚ â”‚Node 2   â”‚ â”‚Node N   â”‚     â”‚
â”‚ â”‚(GPU/CPU)â”‚ â”‚(GPU/CPU)â”‚ â”‚(...)    â”‚     â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  HMT Memory Manager (Mojo + MAX)       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Hardware Abstraction Layer (MAX)      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”         â”‚
â”‚ â”‚T10#1â”‚ â”‚T10#2â”‚ â”‚ CPU â”‚ â”‚ ... â”‚         â”‚
â”‚ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ ¸å¿ƒç»„ä»¶

1. **è®¾å¤‡ç®¡ç†å™¨** (`device_manager.mojo`)
   - å¼‚æ„ç¡¬ä»¶è®¾å¤‡å‘ç°å’ŒæŠ½è±¡
   - è®¾å¤‡æ‹“æ‰‘æ„å»ºå’Œå¸¦å®½ä¼˜åŒ–
   - NUMA æ„ŸçŸ¥çš„è®¾å¤‡ç»‘å®š

2. **HMT åˆ†å±‚å†…å­˜ç®¡ç†å™¨** (`hmt_memory_manager.mojo`)
   - GPU æ˜¾å­˜ â†’ CPU å†…å­˜ â†’ NVMe å­˜å‚¨ä¸‰çº§ç¼“å­˜
   - AÂ²CR (Attention-Aware Cache Replacement) æ™ºèƒ½ç½®æ¢ç®—æ³•
   - é›¶æ‹·è´å†…å­˜æ± å’Œå¼‚æ­¥æ•°æ®è¿ç§»

3. **æ¨¡å‹æ‰§è¡Œå™¨** (`model_executor.mojo`)
   - Gemma-3-27B æ¨¡å‹åŠ è½½å’Œæ¨ç†
   - MoR (Mixture of Routers) åŠ¨æ€è·¯ç”±
   - å¤š GPU åè°ƒå’Œæ‰¹å¤„ç†ä¼˜åŒ–

4. **è¯·æ±‚è°ƒåº¦å™¨** (`request_scheduler.mojo`)
   - ä¼˜å…ˆçº§é˜Ÿåˆ—å’Œæ™ºèƒ½æ‰¹å¤„ç†
   - å¼‚æ­¥æ‰§è¡Œå’Œè´Ÿè½½å‡è¡¡
   - è¶…æ—¶å¤„ç†å’Œé”™è¯¯æ¢å¤

5. **Web æœåŠ¡å™¨** (`web_server.mojo`)
   - OpenAI å…¼å®¹ API æ¥å£
   - æµå¼è¾“å‡ºå’Œå¥åº·ç›‘æ§
   - é«˜å¹¶å‘è¯·æ±‚å¤„ç†

## ğŸ› ï¸ å®‰è£…æŒ‡å—

### ç³»ç»Ÿè¦æ±‚

**å¼€å‘ç¯å¢ƒ** (macOS/Linux):
- Python 3.8+
- 8GB+ RAM
- æ”¯æŒæ¨¡æ‹Ÿæ¨¡å¼å¼€å‘

**ç”Ÿäº§ç¯å¢ƒ** (Linux):
- NVIDIA T10 åŒå¡ (æˆ–å…¶ä»– GPU)
- 64GB+ RAM
- NVMe SSD
- Modular SDK + MAX Engine

### å¿«é€Ÿå®‰è£…

```bash
# 1. å…‹éš†é¡¹ç›®
git clone <repository_url>
cd wicore-mojo

# 2. è¿è¡Œç¯å¢ƒæ­å»ºè„šæœ¬
chmod +x scripts/setup.sh
./scripts/setup.sh

# 3. æ¿€æ´» Python ç¯å¢ƒ
source venv/bin/activate

# 4. è¿è¡Œæµ‹è¯•éªŒè¯
python scripts/test_engine.py
```

### ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

```bash
# 1. ä¸‹è½½ Gemma-3-27B æ¨¡å‹
mkdir -p models
cd models
# ä¸‹è½½æ¨¡å‹æ–‡ä»¶åˆ°æ­¤ç›®å½•

# 2. é…ç½®ç”Ÿäº§ç¯å¢ƒ
cp configs/development.json configs/production.json
# ç¼–è¾‘ production.json è®¾ç½® GPU é…ç½®

# 3. å¯åŠ¨æ¨ç†å¼•æ“
./scripts/start_engine.sh --config configs/production.json
```

## ğŸš€ ä½¿ç”¨æŒ‡å—

### API æ¥å£

WiCore æä¾› OpenAI å…¼å®¹çš„ REST APIï¼š

```bash
# èŠå¤©å®Œæˆ
curl -X POST http://localhost:8000/v1/chat/completions \
  -H "Content-Type: application/json" \
  -d '{
    "model": "gemma-3-27b-it",
    "messages": [
      {"role": "user", "content": "è§£é‡Šé‡å­è®¡ç®—çš„åŸºæœ¬åŸç†"}
    ],
    "max_tokens": 512,
    "temperature": 0.7
  }'

# å¥åº·æ£€æŸ¥
curl http://localhost:8000/health

# ç³»ç»ŸçŠ¶æ€
curl http://localhost:8000/status
```

### Python å®¢æˆ·ç«¯

```python
import requests

def chat_with_wicore(message: str) -> str:
    response = requests.post("http://localhost:8000/v1/chat/completions", 
        json={
            "model": "gemma-3-27b-it",
            "messages": [{"role": "user", "content": message}],
            "max_tokens": 512
        })
    
    return response.json()["choices"][0]["message"]["content"]

# ä½¿ç”¨ç¤ºä¾‹
result = chat_with_wicore("ä½ å¥½ï¼Œè¯·ä»‹ç»ä¸€ä¸‹ä½ è‡ªå·±")
print(result)
```

## ğŸ“Š æ€§èƒ½è°ƒä¼˜

### HMT å†…å­˜ç®¡ç†é…ç½®

```json
{
  "hmt_config": {
    "enable_a2cr": true,
    "nvme_cache_path": "/nvme/wicore_cache",
    "time_decay_factor": 0.05,
    "attention_weight": 0.4,
    "frequency_weight": 0.3,
    "recency_weight": 0.3
  }
}
```

### MoR åŠ¨æ€è·¯ç”±é…ç½®

```json
{
  "mor_config": {
    "enable_mor_routing": true,
    "routing_threshold": 0.5,
    "cpu_depth": 8,
    "gpu_depth": 32
  }
}
```

## ğŸ§ª æµ‹è¯•å’ŒéªŒè¯

### å¼€å‘ç¯å¢ƒæµ‹è¯•

```bash
# è¿è¡Œå®Œæ•´æµ‹è¯•å¥—ä»¶
python scripts/test_engine.py

# å•ç‹¬æµ‹è¯•ç»„ä»¶
python scripts/test_device_manager.py
python scripts/test_memory_manager.py
python scripts/test_model_executor.py
```

### ç”Ÿäº§ç¯å¢ƒåŸºå‡†æµ‹è¯•

```bash
# æ€§èƒ½åŸºå‡†æµ‹è¯•
python scripts/benchmark.py --config configs/production.json

# å‹åŠ›æµ‹è¯•
python scripts/stress_test.py --concurrent 32 --duration 300

# å†…å­˜æ³„æ¼æ£€æµ‹
python scripts/memory_leak_test.py --iterations 1000
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
wicore-mojo/
â”œâ”€â”€ src/                           # Mojo æºä»£ç 
â”‚   â”œâ”€â”€ wicore_engine.mojo        # ä¸»å¼•æ“
â”‚   â”œâ”€â”€ device_manager.mojo       # è®¾å¤‡ç®¡ç†
â”‚   â”œâ”€â”€ hmt_memory_manager.mojo   # HMT å†…å­˜ç®¡ç†
â”‚   â”œâ”€â”€ model_executor.mojo       # æ¨¡å‹æ‰§è¡Œ
â”‚   â”œâ”€â”€ request_scheduler.mojo    # è¯·æ±‚è°ƒåº¦
â”‚   â””â”€â”€ web_server.mojo          # Web æœåŠ¡
â”œâ”€â”€ simulation/                   # æ¨¡æ‹Ÿç¯å¢ƒ
â”‚   â””â”€â”€ max_simulation.py        # MAX Engine æ¨¡æ‹Ÿ
â”œâ”€â”€ scripts/                     # è„šæœ¬å·¥å…·
â”‚   â”œâ”€â”€ setup.sh                # ç¯å¢ƒæ­å»º
â”‚   â”œâ”€â”€ test_engine.py          # æµ‹è¯•è„šæœ¬
â”‚   â””â”€â”€ benchmark.py            # æ€§èƒ½æµ‹è¯•
â”œâ”€â”€ configs/                    # é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ development.json       # å¼€å‘é…ç½®
â”‚   â””â”€â”€ production.json        # ç”Ÿäº§é…ç½®
â”œâ”€â”€ models/                    # æ¨¡å‹æ–‡ä»¶
â”‚   â””â”€â”€ gemma-3-27b-it/       # Gemma-3 æ¨¡å‹
â”œâ”€â”€ docs/                     # æ–‡æ¡£
â””â”€â”€ requirements.txt          # Python ä¾èµ–
```

## ğŸ›¡ï¸ æŠ€æœ¯æ–¹æ¡ˆ

### å…³é”®æŠ€æœ¯å†³ç­–

1. **Mojo è¯­è¨€é€‰æ‹©**
   - 68,000x Python æ€§èƒ½æå‡
   - åŸç”Ÿç¡¬ä»¶ç¼–è¯‘ä¼˜åŒ–
   - Python ç”Ÿæ€å®Œå…¨å…¼å®¹

2. **HMT åˆ†å±‚å†…å­˜ç®¡ç†**
   - GPU æ˜¾å­˜ï¼šçƒ­æ•°æ® FP16 å­˜å‚¨
   - CPU å†…å­˜ï¼šæ¸©æ•°æ® Q8_K é‡åŒ–
   - NVMe å­˜å‚¨ï¼šå†·æ•°æ® Q4_K å‹ç¼©

3. **AÂ²CR ç¼“å­˜ç®—æ³•**
   - æ³¨æ„åŠ›æ„ŸçŸ¥çš„æ™ºèƒ½ç½®æ¢
   - æ—¶é—´è¡°å‡ + é¢‘ç‡ç»Ÿè®¡
   - åŠ¨æ€é˜ˆå€¼è‡ªé€‚åº”è°ƒæ•´

4. **MoR åŠ¨æ€è·¯ç”±**
   - è½»é‡çº§è·¯ç”±å†³ç­– (<3Î¼s)
   - é‡è¦ token â†’ GPU æ·±åº¦è®¡ç®—
   - æ™®é€š token â†’ CPU æµ…å±‚å¤„ç†

### é£é™©æ§åˆ¶

- **æŠ€æœ¯é£é™©**: ä¿æŒ Python å…¼å®¹æ€§ï¼Œæ¸è¿›å¼ Mojo é‡‡ç”¨
- **æ€§èƒ½é£é™©**: æ—©æœŸéªŒè¯ï¼Œå¤šåç«¯æ”¯æŒ
- **ç¡¬ä»¶é£é™©**: åˆ†å±‚æ”¯æŒï¼ŒCPU fallback æœºåˆ¶

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®ä»“åº“
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/amazing-feature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add amazing feature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/amazing-feature`)
5. åˆ›å»º Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶

## ğŸ¯ è·¯çº¿å›¾

### Phase 1: åŸºç¡€éªŒè¯ âœ…
- [x] Mojo ç¯å¢ƒæ­å»º
- [x] æ¨¡æ‹Ÿç¯å¢ƒå¼€å‘
- [x] æ ¸å¿ƒç»„ä»¶å®ç°
- [x] é›†æˆæµ‹è¯•éªŒè¯

### Phase 2: ç”Ÿäº§å°±ç»ª ğŸ”„
- [ ] GPU æœåŠ¡å™¨éƒ¨ç½²
- [ ] Gemma-3-27B æ¨¡å‹åŠ è½½
- [ ] T10 åŒå¡æ€§èƒ½ä¼˜åŒ–
- [ ] ç¨³å®šæ€§æµ‹è¯•

### Phase 3: æ‰©å±•æ”¯æŒ ğŸ“‹
- [ ] å¤šæ¨¡å‹æ”¯æŒ
- [ ] å›½äº§ç¡¬ä»¶é€‚é…
- [ ] äº‘åŸç”Ÿéƒ¨ç½²
- [ ] ç›‘æ§å‘Šè­¦ç³»ç»Ÿ

---

**ğŸ‰ WiCore Mojo æ¨ç†å¼•æ“ - è‡ªä¸»å¯æ§çš„ AI æ¨ç†æœªæ¥** 

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·åˆ›å»º Issue æˆ–è”ç³»å¼€å‘å›¢é˜Ÿã€‚ 